{
  "type": "reference-link",
  "description": "A shortcut reference link consists of a link label that matches a link reference definition elsewhere in the document and is not followed by [] or a link label. The contents of the first link label are parsed as inlines, which are used as the link’s text. The link’s URI and title are provided by the matching link reference definition. Thus, [foo] is equivalent to [foo][].",
  "cases": [
    {
      "description": "GFM#565 https://github.github.com/gfm/#example-565",
      "content": "[foo]\n\n[foo]: /url \"title\"",
      "expectedHtml": "<p><a href=\"/url\" title=\"title\">foo</a></p>",
      "reason": "A shortcut reference link consists of a link label that matches a link reference definition elsewhere in the document and is not followed by [] or a link label. The contents of the first link label are parsed as inlines, which are used as the link’s text. The link’s URI and title are provided by the matching link reference definition. Thus, [foo] is equivalent to [foo][]."
    },
    {
      "description": "GFM#566 https://github.github.com/gfm/#example-566",
      "content": "[*foo* bar]\n\n[*foo* bar]: /url \"title\"",
      "expectedHtml": "<p><a href=\"/url\" title=\"title\"><em>foo</em> bar</a></p>",
      "reason": "A shortcut reference link consists of a link label that matches a link reference definition elsewhere in the document and is not followed by [] or a link label. The contents of the first link label are parsed as inlines, which are used as the link’s text. The link’s URI and title are provided by the matching link reference definition. Thus, [foo] is equivalent to [foo][]."
    },
    {
      "description": "GFM#567 https://github.github.com/gfm/#example-567",
      "content": "[[*foo* bar]]\n\n[*foo* bar]: /url \"title\"",
      "expectedHtml": "<p>[<a href=\"/url\" title=\"title\"><em>foo</em> bar</a>]</p>",
      "reason": "A shortcut reference link consists of a link label that matches a link reference definition elsewhere in the document and is not followed by [] or a link label. The contents of the first link label are parsed as inlines, which are used as the link’s text. The link’s URI and title are provided by the matching link reference definition. Thus, [foo] is equivalent to [foo][]."
    },
    {
      "description": "GFM#568 https://github.github.com/gfm/#example-568",
      "content": "[[bar [foo]\n\n[foo]: /url",
      "expectedHtml": "<p>[[bar <a href=\"/url\">foo</a></p>",
      "reason": "A shortcut reference link consists of a link label that matches a link reference definition elsewhere in the document and is not followed by [] or a link label. The contents of the first link label are parsed as inlines, which are used as the link’s text. The link’s URI and title are provided by the matching link reference definition. Thus, [foo] is equivalent to [foo][]."
    },
    {
      "description": "GFM#569 https://github.github.com/gfm/#example-569",
      "content": "[Foo]\n\n[foo]: /url \"title\"",
      "expectedHtml": "<p><a href=\"/url\" title=\"title\">Foo</a></p>",
      "reason": "The link labels are case-insensitive"
    },
    {
      "description": "GFM#570 https://github.github.com/gfm/#example-570",
      "content": "[foo] bar\n\n[foo]: /url",
      "expectedHtml": "<p><a href=\"/url\">foo</a> bar</p>",
      "reason": "A space after the link text should be preserved"
    },
    {
      "description": "GFM#571 https://github.github.com/gfm/#example-571",
      "content": "\\[foo]\n\n[foo]: /url \"title\"",
      "expectedHtml": "<p>[foo]</p>",
      "reason": "If you just want bracketed text, you can backslash-escape the opening bracket to avoid links"
    },
    {
      "description": "GFM#572 https://github.github.com/gfm/#example-572",
      "content": "[foo*]: /url\n\n*[foo*]",
      "expectedHtml": "<p>*<a href=\"/url\">foo*</a></p>",
      "reason": "Note that this is a link, because a link label ends with the first following closing bracket"
    },
    {
      "description": "GFM#573 https://github.github.com/gfm/#example-573",
      "content": "[foo][bar]\n\n[foo]: /url1\n[bar]: /url2",
      "expectedHtml": "<p><a href=\"/url2\">foo</a></p>",
      "reason": "Full and compact references take precedence over shortcut references"
    },
    {
      "description": "GFM#574 https://github.github.com/gfm/#example-574",
      "content": "[foo][]\n\n[foo]: /url1",
      "expectedHtml": "<p><a href=\"/url1\">foo</a></p>",
      "reason": "Full and compact references take precedence over shortcut references"
    },
    {
      "description": "GFM#575 https://github.github.com/gfm/#example-575",
      "content": "[foo]()\n\n[foo]: /url1",
      "expectedHtml": "<p><a href=\"\">foo</a></p>",
      "reason": "Inline links also take precedence"
    },
    {
      "description": "GFM#576 https://github.github.com/gfm/#example-576",
      "content": "[foo](not a link)\n\n[foo]: /url1",
      "expectedHtml": "<p><a href=\"/url1\">foo</a>(not a link)</p>",
      "reason": "Inline links also take precedence"
    },
    {
      "description": "GFM#577 https://github.github.com/gfm/#example-577",
      "content": "[foo][bar][baz]\n\n[baz]: /url",
      "expectedHtml": "<p>[foo]<a href=\"/url\">bar</a></p>",
      "reason": "In the following case [bar][baz] is parsed as a reference, [foo] as normal text"
    },
    {
      "description": "GFM#578 https://github.github.com/gfm/#example-578",
      "content": "[foo][bar][baz]\n\n[baz]: /url1\n[bar]: /url2",
      "expectedHtml": "<p><a href=\"/url2\">foo</a><a href=\"/url1\">baz</a></p>",
      "reason": "Here, though, [foo][bar] is parsed as a reference, since [bar] is defined"
    },
    {
      "description": "GFM#579 https://github.github.com/gfm/#example-579",
      "content": "[foo][bar][baz]\n\n[baz]: /url1\n[foo]: /url2",
      "expectedHtml": "<p>[foo]<a href=\"/url1\">bar</a></p>",
      "reason": "Here [foo] is not parsed as a shortcut reference, because it is followed by a link label (even though [bar] is not defined)"
    }
  ]
}
