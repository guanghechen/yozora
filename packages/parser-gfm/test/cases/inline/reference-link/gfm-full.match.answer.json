[
  {
    "content": "[foo][bar]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 9,
          "end": 10,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 4,
              "end": 4,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "start": 6,
          "end": 9
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 10,
          "end": 10,
          "thickness": 0
        },
        "right": {
          "start": 31,
          "end": 31,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[link [foo [bar]]][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 22,
          "end": 23,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 17,
              "end": 17,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 17
        },
        "labelFlanking": {
          "start": 19,
          "end": 22
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 23,
          "end": 23,
          "thickness": 0
        },
        "right": {
          "start": 36,
          "end": 36,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[link \\[bar][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 16,
          "end": 17,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 11,
              "end": 11,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 11
        },
        "labelFlanking": {
          "start": 13,
          "end": 16
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 17,
          "end": 17,
          "thickness": 0
        },
        "right": {
          "start": 30,
          "end": 30,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[link *foo **bar** `#`*][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 28,
          "end": 29,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 6,
              "end": 6,
              "thickness": 0
            }
          },
          {
            "type": "EMPHASIS",
            "left": {
              "start": 6,
              "end": 7,
              "thickness": 1
            },
            "right": {
              "start": 22,
              "end": 23,
              "thickness": 1
            },
            "children": [
              {
                "type": "TEXT",
                "left": {
                  "start": 7,
                  "end": 7,
                  "thickness": 0
                },
                "right": {
                  "start": 11,
                  "end": 11,
                  "thickness": 0
                }
              },
              {
                "type": "STRONG",
                "left": {
                  "start": 11,
                  "end": 13,
                  "thickness": 2
                },
                "right": {
                  "start": 16,
                  "end": 18,
                  "thickness": 2
                },
                "children": [
                  {
                    "type": "TEXT",
                    "left": {
                      "start": 13,
                      "end": 13,
                      "thickness": 0
                    },
                    "right": {
                      "start": 16,
                      "end": 16,
                      "thickness": 0
                    }
                  }
                ]
              },
              {
                "type": "TEXT",
                "left": {
                  "start": 18,
                  "end": 18,
                  "thickness": 0
                },
                "right": {
                  "start": 19,
                  "end": 19,
                  "thickness": 0
                }
              },
              {
                "type": "INLINE_CODE",
                "left": {
                  "start": 19,
                  "end": 20,
                  "thickness": 1
                },
                "right": {
                  "start": 21,
                  "end": 22,
                  "thickness": 1
                }
              }
            ]
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 23
        },
        "labelFlanking": {
          "start": 25,
          "end": 28
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 29,
          "end": 29,
          "thickness": 0
        },
        "right": {
          "start": 42,
          "end": 42,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[![moon](moon.jpg)][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 23,
          "end": 24,
          "thickness": 1
        },
        "children": [
          {
            "type": "IMAGE",
            "left": {
              "start": 1,
              "end": 3,
              "thickness": 2
            },
            "right": {
              "start": 17,
              "end": 18,
              "thickness": 1
            },
            "children": [
              {
                "type": "TEXT",
                "left": {
                  "start": 3,
                  "end": 3,
                  "thickness": 0
                },
                "right": {
                  "start": 7,
                  "end": 7,
                  "thickness": 0
                }
              }
            ],
            "textFlanking": {
              "start": 3,
              "end": 7
            },
            "destinationFlanking": {
              "start": 9,
              "end": 17
            },
            "titleFlanking": null
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 18
        },
        "labelFlanking": {
          "start": 20,
          "end": 23
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 24,
          "end": 24,
          "thickness": 0
        },
        "right": {
          "start": 37,
          "end": 37,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo [bar](/uri)][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 5,
          "end": 5,
          "thickness": 0
        }
      },
      {
        "type": "LINK",
        "left": {
          "start": 5,
          "end": 6,
          "thickness": 1
        },
        "right": {
          "start": 15,
          "end": 16,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 6,
              "end": 6,
              "thickness": 0
            },
            "right": {
              "start": 9,
              "end": 9,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 6,
          "end": 9
        },
        "destinationFlanking": {
          "start": 11,
          "end": 15
        },
        "titleFlanking": null
      },
      {
        "type": "TEXT",
        "left": {
          "start": 16,
          "end": 16,
          "thickness": 0
        },
        "right": {
          "start": 35,
          "end": 35,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo *bar [baz][ref]*][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 5,
          "end": 5,
          "thickness": 0
        }
      },
      {
        "type": "EMPHASIS",
        "left": {
          "start": 5,
          "end": 6,
          "thickness": 1
        },
        "right": {
          "start": 20,
          "end": 21,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 6,
              "end": 6,
              "thickness": 0
            },
            "right": {
              "start": 10,
              "end": 10,
              "thickness": 0
            }
          },
          {
            "type": "REFERENCE_LINK",
            "left": {
              "start": 10,
              "end": 11,
              "thickness": 1
            },
            "right": {
              "start": 19,
              "end": 20,
              "thickness": 1
            },
            "children": [
              {
                "type": "TEXT",
                "left": {
                  "start": 11,
                  "end": 11,
                  "thickness": 0
                },
                "right": {
                  "start": 14,
                  "end": 14,
                  "thickness": 0
                }
              }
            ],
            "textFlanking": {
              "start": 11,
              "end": 14
            },
            "labelFlanking": {
              "start": 16,
              "end": 19
            }
          }
        ]
      },
      {
        "type": "TEXT",
        "left": {
          "start": 21,
          "end": 21,
          "thickness": 0
        },
        "right": {
          "start": 40,
          "end": 40,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "*[foo*][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 1,
          "end": 1,
          "thickness": 0
        }
      },
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 1,
          "end": 2,
          "thickness": 1
        },
        "right": {
          "start": 11,
          "end": 12,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 2,
              "end": 2,
              "thickness": 0
            },
            "right": {
              "start": 6,
              "end": 6,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 2,
          "end": 6
        },
        "labelFlanking": {
          "start": 8,
          "end": 11
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 12,
          "end": 12,
          "thickness": 0
        },
        "right": {
          "start": 25,
          "end": 25,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo *bar][ref]*\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 14,
          "end": 15,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 9,
              "end": 9,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 9
        },
        "labelFlanking": {
          "start": 11,
          "end": 14
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 15,
          "end": 15,
          "thickness": 0
        },
        "right": {
          "start": 29,
          "end": 29,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo <bar attr=\"][ref]\">\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 21,
          "end": 22,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 16,
              "end": 16,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 16
        },
        "labelFlanking": {
          "start": 18,
          "end": 21
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 22,
          "end": 22,
          "thickness": 0
        },
        "right": {
          "start": 37,
          "end": 37,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo`][ref]`\n\n[ref]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 4,
          "end": 4,
          "thickness": 0
        }
      },
      {
        "type": "INLINE_CODE",
        "left": {
          "start": 4,
          "end": 5,
          "thickness": 1
        },
        "right": {
          "start": 11,
          "end": 12,
          "thickness": 1
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 12,
          "end": 12,
          "thickness": 0
        },
        "right": {
          "start": 25,
          "end": 25,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo<http://example.com/?search=][ref]>\n\n[ref]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 37,
          "end": 38,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 32,
              "end": 32,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 32
        },
        "labelFlanking": {
          "start": 34,
          "end": 37
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 38,
          "end": 38,
          "thickness": 0
        },
        "right": {
          "start": 52,
          "end": 52,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo][BaR]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 9,
          "end": 10,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 4,
              "end": 4,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "start": 6,
          "end": 9
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 10,
          "end": 10,
          "thickness": 0
        },
        "right": {
          "start": 31,
          "end": 31,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[ẞ]\n\n[SS]: /url",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 15,
          "end": 15,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[Foo\n  bar]: /url\n\n[Baz][Foo bar]",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 19,
          "end": 19,
          "thickness": 0
        }
      },
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 19,
          "end": 20,
          "thickness": 1
        },
        "right": {
          "start": 32,
          "end": 33,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 20,
              "end": 20,
              "thickness": 0
            },
            "right": {
              "start": 23,
              "end": 23,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 20,
          "end": 23
        },
        "labelFlanking": {
          "start": 25,
          "end": 32
        }
      }
    ]
  },
  {
    "content": "[foo] [bar]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 32,
          "end": 32,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo]\n[bar]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 32,
          "end": 32,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo]: /url1\n\n[foo]: /url2\n\n[bar][foo]",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 28,
          "end": 28,
          "thickness": 0
        }
      },
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 28,
          "end": 29,
          "thickness": 1
        },
        "right": {
          "start": 37,
          "end": 38,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 29,
              "end": 29,
              "thickness": 0
            },
            "right": {
              "start": 32,
              "end": 32,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 29,
          "end": 32
        },
        "labelFlanking": {
          "start": 34,
          "end": 37
        }
      }
    ]
  },
  {
    "content": "[bar][foo\\!]\n\n[foo!]: /url",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 11,
          "end": 12,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 4,
              "end": 4,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "start": 6,
          "end": 11
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 12,
          "end": 12,
          "thickness": 0
        },
        "right": {
          "start": 26,
          "end": 26,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo][ref[]\n\n[ref[]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 25,
          "end": 25,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo][ref[bar]]\n\n[ref[bar]]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 33,
          "end": 33,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[[[foo]]]\n\n[[[foo]]]: /url",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 26,
          "end": 26,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[foo][ref\\[]\n\n[ref\\[]: /uri",
    "answer": [
      {
        "type": "REFERENCE_LINK",
        "left": {
          "start": 0,
          "end": 1,
          "thickness": 1
        },
        "right": {
          "start": 11,
          "end": 12,
          "thickness": 1
        },
        "children": [
          {
            "type": "TEXT",
            "left": {
              "start": 1,
              "end": 1,
              "thickness": 0
            },
            "right": {
              "start": 4,
              "end": 4,
              "thickness": 0
            }
          }
        ],
        "textFlanking": {
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "start": 6,
          "end": 11
        }
      },
      {
        "type": "TEXT",
        "left": {
          "start": 12,
          "end": 12,
          "thickness": 0
        },
        "right": {
          "start": 27,
          "end": 27,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[bar\\\\]: /uri\n\n[bar\\\\]",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 22,
          "end": 22,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[]\n\n[]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 12,
          "end": 12,
          "thickness": 0
        }
      }
    ]
  },
  {
    "content": "[\n ]\n\n[\n ]: /uri",
    "answer": [
      {
        "type": "TEXT",
        "left": {
          "start": 0,
          "end": 0,
          "thickness": 0
        },
        "right": {
          "start": 16,
          "end": 16,
          "thickness": 0
        }
      }
    ]
  }
]