[
  {
    "content": "[foo][bar]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 10,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 6,
          "end": 9
        }
      },
      {
        "type": "text",
        "start": 10,
        "end": 31
      }
    ]
  },
  {
    "content": "[link [foo [bar]]][ref]\n\n[ref]: /uri",
    "answer": {
      "type": "reference-link",
      "points": [
        {
          "offset": 0,
          "column": 1,
          "line": 1
        },
        {
          "offset": 6,
          "column": 7,
          "line": 1
        },
        {
          "offset": 11,
          "column": 12,
          "line": 1
        },
        {
          "offset": 23,
          "column": 24,
          "line": 1
        }
      ],
      "edges": [
        [
          0,
          [
            3
          ]
        ],
        [
          1,
          [
            3
          ]
        ],
        [
          2,
          [
            3
          ]
        ]
      ]
    }
  },
  {
    "content": "[link \\[bar][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 17,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 11
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 13,
          "end": 16
        }
      },
      {
        "type": "text",
        "start": 17,
        "end": 30
      }
    ]
  },
  {
    "content": "[link *foo **bar** `#`*][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 29,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 23
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 25,
          "end": 28
        }
      },
      {
        "type": "inline-code",
        "start": 19,
        "end": 22,
        "thickness": 1
      },
      {
        "type": "text",
        "start": 29,
        "end": 42
      }
    ]
  },
  {
    "content": "[![moon](moon.jpg)][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 24,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 18
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 20,
          "end": 23
        }
      },
      {
        "type": "image",
        "start": 1,
        "end": 18,
        "textFlanking": {
          "type": "image",
          "start": 3,
          "end": 7
        },
        "destinationFlanking": {
          "type": "image",
          "start": 9,
          "end": 17
        },
        "titleFlanking": null
      },
      {
        "type": "text",
        "start": 24,
        "end": 37
      }
    ]
  },
  {
    "content": "[foo [bar](/uri)][ref]\n\n[ref]: /uri",
    "answer": {
      "type": "reference-link",
      "points": [
        {
          "offset": 0,
          "column": 1,
          "line": 1
        },
        {
          "offset": 5,
          "column": 6,
          "line": 1
        },
        {
          "offset": 22,
          "column": 23,
          "line": 1
        }
      ],
      "edges": [
        [
          0,
          [
            2
          ]
        ],
        [
          1,
          [
            2
          ]
        ]
      ]
    }
  },
  {
    "content": "[foo *bar [baz][ref]*][ref]\n\n[ref]: /uri",
    "answer": {
      "type": "reference-link",
      "points": [
        {
          "offset": 0,
          "column": 1,
          "line": 1
        },
        {
          "offset": 10,
          "column": 11,
          "line": 1
        },
        {
          "offset": 15,
          "column": 16,
          "line": 1
        },
        {
          "offset": 20,
          "column": 21,
          "line": 1
        },
        {
          "offset": 27,
          "column": 28,
          "line": 1
        }
      ],
      "edges": [
        [
          0,
          [
            3,
            4
          ]
        ],
        [
          1,
          [
            3,
            4
          ]
        ],
        [
          2,
          [
            4
          ]
        ]
      ]
    }
  },
  {
    "content": "*[foo*][ref]\n\n[ref]: /uri",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 1
      },
      {
        "type": "reference-link",
        "start": 1,
        "end": 12,
        "textFlanking": {
          "type": "reference-link",
          "start": 2,
          "end": 6
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 8,
          "end": 11
        }
      },
      {
        "type": "text",
        "start": 12,
        "end": 25
      }
    ]
  },
  {
    "content": "[foo *bar][ref]*\n\n[ref]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 15,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 9
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 11,
          "end": 14
        }
      },
      {
        "type": "text",
        "start": 15,
        "end": 29
      }
    ]
  },
  {
    "content": "[foo <bar attr=\"][ref]\">\n\n[ref]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 22,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 16
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 18,
          "end": 21
        }
      },
      {
        "type": "text",
        "start": 22,
        "end": 37
      }
    ]
  },
  {
    "content": "[foo`][ref]`\n\n[ref]: /uri",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 4
      },
      {
        "type": "inline-code",
        "start": 4,
        "end": 12,
        "thickness": 1
      },
      {
        "type": "text",
        "start": 12,
        "end": 25
      }
    ]
  },
  {
    "content": "[foo<http://example.com/?search=][ref]>\n\n[ref]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 38,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 32
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 34,
          "end": 37
        }
      },
      {
        "type": "text",
        "start": 38,
        "end": 52
      }
    ]
  },
  {
    "content": "[foo][BaR]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 10,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 6,
          "end": 9
        }
      },
      {
        "type": "text",
        "start": 10,
        "end": 31
      }
    ]
  },
  {
    "content": "[ẞ]\n\n[SS]: /url",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 15
      }
    ]
  },
  {
    "content": "[Foo\n  bar]: /url\n\n[Baz][Foo bar]",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 19
      },
      {
        "type": "reference-link",
        "start": 19,
        "end": 33,
        "textFlanking": {
          "type": "reference-link",
          "start": 20,
          "end": 23
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 25,
          "end": 32
        }
      }
    ]
  },
  {
    "content": "[foo] [bar]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 32
      }
    ]
  },
  {
    "content": "[foo]\n[bar]\n\n[bar]: /url \"title\"",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 32
      }
    ]
  },
  {
    "content": "[foo]: /url1\n\n[foo]: /url2\n\n[bar][foo]",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 28
      },
      {
        "type": "reference-link",
        "start": 28,
        "end": 38,
        "textFlanking": {
          "type": "reference-link",
          "start": 29,
          "end": 32
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 34,
          "end": 37
        }
      }
    ]
  },
  {
    "content": "[bar][foo\\!]\n\n[foo!]: /url",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 12,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 6,
          "end": 11
        }
      },
      {
        "type": "text",
        "start": 12,
        "end": 26
      }
    ]
  },
  {
    "content": "[foo][ref[]\n\n[ref[]: /uri",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 25
      }
    ]
  },
  {
    "content": "[foo][ref[bar]]\n\n[ref[bar]]: /uri",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 33
      }
    ]
  },
  {
    "content": "[[[foo]]]\n\n[[[foo]]]: /url",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 26
      }
    ]
  },
  {
    "content": "[foo][ref\\[]\n\n[ref\\[]: /uri",
    "answer": [
      {
        "type": "reference-link",
        "start": 0,
        "end": 12,
        "textFlanking": {
          "type": "reference-link",
          "start": 1,
          "end": 4
        },
        "labelFlanking": {
          "type": "reference-link",
          "start": 6,
          "end": 11
        }
      },
      {
        "type": "text",
        "start": 12,
        "end": 27
      }
    ]
  },
  {
    "content": "[bar\\\\]: /uri\n\n[bar\\\\]",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 22
      }
    ]
  },
  {
    "content": "[]\n\n[]: /uri",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 12
      }
    ]
  },
  {
    "content": "[\n ]\n\n[\n ]: /uri",
    "answer": [
      {
        "type": "text",
        "start": 0,
        "end": 16
      }
    ]
  }
]